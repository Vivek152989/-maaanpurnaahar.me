<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maa Anpurna Aahar - Handmade Food Products</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      background: #f8f9fa;
    }
    
    /* Navigation */
    nav {
      background: #2c3e50;
      padding: 1rem 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      color: #ff9800;
      font-size: 1.5rem;
      font-weight: bold;
      text-decoration: none;
    }
    
    .nav-links {
      display: flex;
      list-style: none;
      gap: 30px;
    }
    
    .nav-links a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
    }
    
    .nav-links a:hover {
      color: #ff9800;
    }
    
    /* Authentication Menu Styles */
    .auth-menu {
      position: relative;
    }
    
    .auth-link {
      color: white;
      text-decoration: none;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 20px;
      transition: all 0.3s;
      margin-left: 10px;
    }
    
    .auth-link:hover {
      background: rgba(255, 152, 0, 0.1);
      color: #ff9800;
    }
    
    .register-link {
      background: #ff9800;
      color: white;
    }
    
    .register-link:hover {
      background: #f57c00;
      color: white;
    }
    
    .user-menu {
      position: relative;
    }
    
    .user-avatar {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background: #ff9800;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
    }
    
    .user-avatar:hover {
      background: #f57c00;
      transform: scale(1.05);
    }
    
    .dropdown-menu {
      position: absolute;
      top: 100%;
      right: 0;
      background: white;
      border-radius: 8px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.15);
      padding: 10px 0;
      margin-top: 10px;
      min-width: 180px;
      display: none;
      z-index: 1000;
    }
    
    .dropdown-menu.show {
      display: block;
    }
    
    .dropdown-item {
      display: block;
      padding: 12px 20px;
      color: #333;
      text-decoration: none;
      transition: background 0.3s;
      font-size: 0.9rem;
    }
    
    .dropdown-item:hover {
      background: #f8f9fa;
      color: #ff9800;
    }
    
    .logout-btn {
      color: #dc3545 !important;
      border-top: 1px solid #e9ecef;
      margin-top: 5px;
      padding-top: 15px;
    }
    
    .logout-btn:hover {
      background: #f8f9fa;
      color: #c82333 !important;
    }
    
    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, #ff9800, #f57c00);
      color: white;
      padding: 100px 0;
      text-align: center;
    }
    
    .hero h1 {
      font-size: 3rem;
      margin-bottom: 20px;
    }
    
    .hero p {
      font-size: 1.2rem;
      margin-bottom: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .btn {
      display: inline-block;
      background: #2c3e50;
      color: white;
      padding: 12px 30px;
      text-decoration: none;
      border-radius: 5px;
      font-weight: bold;
      transition: background 0.3s;
      margin: 10px;
    }
    
    .btn:hover {
      background: #34495e;
    }
    
    .btn-secondary {
      background: transparent;
      border: 2px solid white;
    }
    
    .btn-secondary:hover {
      background: white;
      color: #ff9800;
    }
    
    /* Container */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* Sections */
    section {
      padding: 80px 0;
    }
    
    h2 {
      text-align: center;
      margin-bottom: 50px;
      font-size: 2.5rem;
      color: #2c3e50;
    }
    
    /* Featured Products */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-top: 50px;
    }
    
    .product-card {
      background: white;
      border-radius: 10px;
      padding: 30px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }
    
    .product-card:hover {
      transform: translateY(-5px);
    }
    
    .product-icon {
      font-size: 3rem;
      margin-bottom: 20px;
    }
    
    .product-card h3 {
      margin-bottom: 15px;
      color: #2c3e50;
    }
    
    .price {
      font-size: 1.2rem;
      font-weight: bold;
      color: #ff9800;
      margin: 15px 0;
    }
    
    /* About Section */
    .about {
      background: white;
    }
    
    .about-content {
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
    }
    
    .about-content p {
      font-size: 1.1rem;
      margin-bottom: 20px;
    }
    
    /* Contact Section */
    .contact {
      background: #f8f9fa;
    }
    
    .contact-info {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      text-align: center;
    }
    
    .contact-item {
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .contact-item h3 {
      color: #ff9800;
      margin-bottom: 15px;
    }
    
    /* Footer */
    footer {
      background: #2c3e50;
      color: white;
      padding: 40px 0 20px;
      text-align: center;
    }
    
    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin-bottom: 30px;
    }
    
    .footer-section h3 {
      margin-bottom: 15px;
      color: #ff9800;
    }
    
    .footer-section a {
      color: #bdc3c7;
      text-decoration: none;
    }
    
    .footer-section a:hover {
      color: #ff9800;
    }
    
    /* Welcome Popup Styles */
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(5px);
    }
    
    .popup-container {
      background: white;
      border-radius: 15px;
      padding: 40px;
      max-width: 500px;
      width: 90%;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
      animation: popupSlideIn 0.5s ease-out;
      position: relative;
    }
    
    @keyframes popupSlideIn {
      from {
        opacity: 0;
        transform: translateY(-50px) scale(0.9);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    
    @keyframes popupSlideOut {
      from {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
      to {
        opacity: 0;
        transform: translateY(-50px) scale(0.9);
      }
    }
    
    .popup-close {
      position: absolute;
      top: 15px;
      right: 15px;
      background: none;
      border: none;
      font-size: 24px;
      color: #999;
      cursor: pointer;
      padding: 5px;
      border-radius: 50%;
      transition: all 0.3s;
    }
    
    .popup-close:hover {
      background: #f1f1f1;
      color: #333;
    }
    
    .popup-countdown {
      position: absolute;
      top: 15px;
      left: 15px;
      background: rgba(255, 152, 0, 0.1);
      color: #ff9800;
      padding: 5px 10px;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: 500;
      border: 1px solid rgba(255, 152, 0, 0.3);
    }
    
    .popup-countdown span {
      font-weight: bold;
      color: #f57c00;
    }
    
    /* Popup Animations */
    @keyframes popupSlideIn {
      from {
        opacity: 0;
        transform: scale(0.8) translateY(-20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }
    
    @keyframes popupSlideOut {
      from {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
      to {
        opacity: 0;
        transform: scale(0.8) translateY(-20px);
      }
    }
    
    .popup-icon {
      font-size: 4rem;
      margin-bottom: 20px;
      color: #ff9800;
    }
    
    .popup-title {
      color: #2c3e50;
      font-size: 2rem;
      margin-bottom: 15px;
      font-weight: bold;
    }
    
    .popup-message {
      color: #666;
      font-size: 1.1rem;
      line-height: 1.6;
      margin-bottom: 25px;
    }
    
    .popup-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .popup-btn {
      padding: 12px 25px;
      border: none;
      border-radius: 25px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
      display: inline-block;
    }
    
    .popup-btn-primary {
      background: #ff9800;
      color: white;
    }
    
    .popup-btn-primary:hover {
      background: #f57c00;
      transform: translateY(-2px);
    }
    
    .popup-btn-secondary {
      background: transparent;
      color: #2c3e50;
      border: 2px solid #e9ecef;
    }
    
    .popup-btn-secondary:hover {
      background: #f8f9fa;
      border-color: #ff9800;
      color: #ff9800;
    }
    
    .hidden {
      display: none;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .hero p {
        font-size: 1rem;
      }
      
      section {
        padding: 40px 0;
      }
      
      /* Responsive popup */
      .popup-container {
        padding: 25px;
        margin: 20px;
      }
      
      .popup-title {
        font-size: 1.5rem;
      }
      
      .popup-message {
        font-size: 1rem;
      }
      
      .popup-buttons {
        flex-direction: column;
      }
      
      .popup-btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <!-- Welcome Popup -->
  <div id="welcomePopup" class="popup-overlay">
    <div class="popup-container">
      <button class="popup-close" onclick="closeWelcomePopup()">&times;</button>
      <div class="popup-countdown" id="popupCountdown">
        Auto-close in <span id="countdownTimer">15</span>s
      </div>
      <div class="popup-icon">üåæ</div>
      <h2 class="popup-title">Welcome to Maa Anpurna Aahar!</h2>
      <p class="popup-message">
        Namaste! Aap hamari website par aaye, iske liye dhanyawad! 
        Hum ghar ka bana hua fresh aur healthy food aap tak pahunchate hain. 
        Hamari handmade products ka mazaa len aur healthy life jeeyein!
      </p>
      <div class="popup-buttons">
        <a href="products.html" class="popup-btn popup-btn-primary">Explore Products</a>
        <button class="popup-btn popup-btn-secondary" onclick="closeWelcomePopup()">Continue Browsing</button>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav>
    <div class="nav-container">
      <a href="index.html" class="logo">üåæ Maa Anpurna Aahar</a>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="products.html">Products</a></li>
        <li><a href="cart.html">Cart</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li class="auth-menu" id="authMenu">
          <!-- Will be populated by JavaScript -->
        </li>
      </ul>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1>üåæ Maa Anpurna Aahar</h1>
      <p>Ghar ka banaa hua, sehatmand aur swadisht khana seedha aap tak. Hamari handmade products ka mazaa len!</p>
      <a href="products.html" class="btn">Shop Now</a>
      <a href="#about" class="btn btn-secondary">Learn More</a>
    </div>
  </section>

  <!-- Featured Products -->
  <section>
    <div class="container">
      <h2>Featured Products</h2>
      <div class="products-grid">
        <div class="product-card">
          <div class="product-icon">üçØ</div>
          <h3>Pure Honey</h3>
          <p>Fresh, organic honey directly from our beehives</p>
          <div class="price">‚Çπ450/kg</div>
          <a href="products.html" class="btn">Add to Cart</a>
        </div>
        <div class="product-card">
          <div class="product-icon">üåæ</div>
          <h3>Handmade Atta</h3>
          <p>Stone-ground wheat flour, preservative-free</p>
          <div class="price">‚Çπ80/kg</div>
          <a href="products.html" class="btn">Add to Cart</a>
        </div>
        <div class="product-card">
          <div class="product-icon">ü•®</div>
          <h3>Fresh Pickles</h3>
          <p>Traditional homemade pickles with authentic taste</p>
          <div class="price">‚Çπ120/jar</div>
          <a href="products.html" class="btn">Add to Cart</a>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="about">
    <div class="container">
      <h2>About Us</h2>
      <div class="about-content">
        <p>Hum ek passionate startup hain jo ghar ki rasoi se tazaa aur swadisht bhojan aap tak pahunchate hain. Hamara mission hai ki har ghar mein authentic, healthy aur handmade products pohonche.</p>
        <p>Saari products traditional methods se banai jaati hain, bina kisi artificial preservatives ke. Quality aur taste hamari priority hai.</p>
      </div>
    </div>
  </section>

  <!-- Contact Preview -->
  <section class="contact">
    <div class="container">
      <h2>Get in Touch</h2>
      <div class="contact-info">
        <div class="contact-item">
          <h3>üìß Email</h3>
          <p>info@maaanpurnaahar.me</p>
        </div>
        <div class="contact-item">
          <h3>üìû Phone</h3>
          <p>+918353989251</p>
        </div>
        <div class="contact-item">
          <h3>üìç Location</h3>
          <p>Serving across India</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>Maa Anpurna Aahar</h3>
          <p>Handmade food products with love and care</p>
        </div>
        <div class="footer-section">
          <h3>Quick Links</h3>
          <p><a href="products.html">Products</a></p>
          <p><a href="profile.html">My Account</a></p>
          <p><a href="cart.html">Cart</a></p>
        </div>
        <div class="footer-section">
          <h3>Support</h3>
          <p><a href="contact.html">Contact Us</a></p>
          <p><a href="#">FAQ</a></p>
          <p><a href="#">Shipping Info</a></p>
        </div>
      </div>
      <p>¬© 2025 Maa Anpurna Aahar. All rights reserved.</p>
    </div>
  </footer>
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  
  <!-- Your Firebase Configuration -->
  <script src="firebase-config.js"></script>
  <script src="auth.js"></script>
  <script>
    // Initialize Firebase when page loads
    document.addEventListener('DOMContentLoaded', async function() {
      // Your actual Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyB79RNz2_bcjalb2vnPtGx5TKyxvclLM_0",
        authDomain: "maa-anpurna-aahar.firebaseapp.com",
        projectId: "maa-anpurna-aahar",
        storageBucket: "maa-anpurna-aahar.firebasestorage.app",
        messagingSenderId: "539880099771",
        appId: "1:539880099771:web:0753dfd9cc8f050a5d7e9e",
        measurementId: "G-GH7YLSBMPT"
      };
      
      await window.firebaseManager.initialize(firebaseConfig);
    });
  </script>

  <script>
    // Welcome Popup Functions
    function closeWelcomePopup() {
      try {
        // Stop auto-close timer when manually closing
        stopAutoCloseTimer();
        
        const popup = document.getElementById('welcomePopup');
        if (popup) {
          popup.style.animation = 'popupSlideOut 0.3s ease-in forwards';
          setTimeout(() => {
            popup.classList.add('hidden');
            popup.style.display = 'none';
            // Set localStorage to remember user has seen the popup
            localStorage.setItem('welcomePopupSeen', 'true');
          }, 300);
        }
      } catch (error) {
        console.error('Error closing popup:', error);
        // Fallback: just hide the popup
        const popup = document.getElementById('welcomePopup');
        if (popup) {
          popup.style.display = 'none';
          localStorage.setItem('welcomePopupSeen', 'true');
        }
        // Stop timer even in error case
        stopAutoCloseTimer();
      }
    }

    // Auto-close timer for popup
    let autoCloseTimer = null;
    let countdownTimer = null;
    let timeLeft = 15; // 15 seconds
    
    // Function to update countdown display
    function updateCountdown() {
      const timerElement = document.getElementById('countdownTimer');
      if (timerElement) {
        timerElement.textContent = timeLeft;
        
        // Change color as time runs out
        if (timeLeft <= 5) {
          timerElement.style.color = '#e74c3c'; // Red
        } else if (timeLeft <= 10) {
          timerElement.style.color = '#f39c12'; // Orange
        }
      }
      
      timeLeft--;
      
      if (timeLeft < 0) {
        stopCountdownTimer();
        closeWelcomePopup();
      }
    }
    
    // Function to start countdown timer
    function startCountdownTimer() {
      timeLeft = 15; // Reset to 15 seconds
      
      // Update countdown immediately
      updateCountdown();
      
      // Update every second
      countdownTimer = setInterval(updateCountdown, 1000);
    }
    
    // Function to stop countdown timer
    function stopCountdownTimer() {
      if (countdownTimer) {
        clearInterval(countdownTimer);
        countdownTimer = null;
      }
    }
    
    // Function to start auto-close timer
    function startAutoCloseTimer() {
      // Clear any existing timers
      stopAutoCloseTimer();
      stopCountdownTimer();
      
      // Start visual countdown
      startCountdownTimer();
      
      // Auto-close popup after 15 seconds (backup timer)
      autoCloseTimer = setTimeout(() => {
        console.log('Auto-closing popup after 15 seconds');
        closeWelcomePopup();
      }, 15000); // 15 seconds
    }
    
    // Function to stop auto-close timer
    function stopAutoCloseTimer() {
      if (autoCloseTimer) {
        clearTimeout(autoCloseTimer);
        autoCloseTimer = null;
      }
      stopCountdownTimer();
    }

    // Check if user has already seen the popup today
    window.addEventListener('load', function() {
      const hasSeenPopup = localStorage.getItem('welcomePopupSeen');
      const lastVisit = localStorage.getItem('lastVisitDate');
      const today = new Date().toDateString();
      
      // Show popup if user hasn't seen it today or is a first-time visitor
      if (!hasSeenPopup || lastVisit !== today) {
        setTimeout(() => {
          const popup = document.getElementById('welcomePopup');
          popup.classList.remove('hidden');
          
          // Start auto-close timer when popup is shown
          startAutoCloseTimer();
        }, 1000); // Show popup after 1 second
        
        // Update last visit date
        localStorage.setItem('lastVisitDate', today);
      } else {
        // Hide popup if already seen today
        document.getElementById('welcomePopup').classList.add('hidden');
      }
    });

    // Close popup when clicking outside
    document.getElementById('welcomePopup').addEventListener('click', function(e) {
      if (e.target === this) {
        closeWelcomePopup();
      }
    });

    // Close popup with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeWelcomePopup();
      }
    });

    // Pause timer on hover, resume on mouse leave
    document.addEventListener('DOMContentLoaded', function() {
      const popup = document.getElementById('welcomePopup');
      const popupContainer = popup.querySelector('.popup-container');
      
      // Pause countdown when hovering over popup content
      popupContainer.addEventListener('mouseenter', function() {
        stopCountdownTimer();
        const countdownElement = document.getElementById('popupCountdown');
        if (countdownElement) {
          countdownElement.style.opacity = '0.5';
          countdownElement.title = 'Timer paused while hovering';
        }
      });
      
      // Resume countdown when mouse leaves popup content
      popupContainer.addEventListener('mouseleave', function() {
        const countdownElement = document.getElementById('popupCountdown');
        if (countdownElement && timeLeft > 0) {
          countdownElement.style.opacity = '1';
          countdownElement.title = '';
          startCountdownTimer();
        }
      });
    });
  </script>
</body>
</html>
